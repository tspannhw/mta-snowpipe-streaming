# ============================================================================
# Environment Configuration for Snowpipe Streaming with Kafka
# ============================================================================

# Snowflake Configuration (REQUIRED)
SNOWFLAKE_ACCOUNT=SFA
SNOWFLAKE_USER=service
# Key-pair authentication (PREFERRED for production)
SNOWFLAKE_PRIVATE_KEY_PATH=/Users/dir/key.p8
SNOWFLAKE_PRIVATE_KEY_PASSPHRASE=
SNOWFLAKE_WAREHOUSE=INGEST
SNOWFLAKE_DATABASE=DEMO
SNOWFLAKE_SCHEMA=DEMO
SNOWFLAKE_ROLE=ACCOUNTADMIN

# Data Source Configuration
DEFAULT_DATA_SOURCE=kafka  # Options: kafka, mta_api

# Kafka Configuration (PRIMARY SOURCE - REQUIRED for kafka mode)
KAFKA_BOOTSTRAP_SERVERS=server:9093
KAFKA_SASL_USERNAME=servicename
KAFKA_SASL_PASSWORD=somekeyvalue
KAFKA_TOPIC=icymta
KAFKA_CONSUMER_GROUP=spstreamingconsumerp2


# Application Performance Settings
PARALLEL_CHANNELS=4
BATCH_SIZE=1000
FLUSH_INTERVAL_SECONDS=10
MAX_MEMORY_GB=4
MAX_CPU_CORES=2

# Monitoring Configuration
HEALTH_CHECK_PORT=8001
ENABLE_HEALTH_CHECKS=true

# Optional: Advanced Kafka Settings
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_HEARTBEAT_INTERVAL_MS=3000
KAFKA_MAX_POLL_RECORDS=500
KAFKA_AUTO_OFFSET_RESET=latest

# Optional: SSL Certificate Paths (if required)
# KAFKA_SSL_CAFILE=/path/to/ca-cert.pem
# KAFKA_SSL_CERTFILE=/path/to/client-cert.pem
# KAFKA_SSL_KEYFILE=/path/to/client-key.pem

# Optional: Alerting Configuration
ALERT_EMAIL=alerts@yourdomain.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

ENABLE_ICEBERG_STREAMING=true

export ENABLE_ICEBERG_STREAMING=true 